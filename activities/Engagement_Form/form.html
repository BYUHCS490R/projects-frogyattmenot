<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Engagement - Formt</title>
    <link rel="stylesheet" href="form.css">
</head>
<body>
    <header>
        <h1>Engagement - Form</h1>
    </header>
    <nav>
        <a href="#">Link</a>
        <a href="#">Link</a>
        <a href="#">Link</a>
        <a href="#">Link</a>
    </nav>
    <main>
        <div id="message"></div>
        <form action="form_processes.html" method="post" id="myform"> <!--method="get" puts everything in the browser path while post is more secure as it hides the data up in the browser. https allows the browser to stay secure. most forms filled out are post request. post is change: can add, update or remove, delete, destroy, etc. use get request on like google search, youtube. with get  request, its just reading the data. -->
            <fieldset>
                <legend>Sign Up</legend>
                <div class="form-row">
                    <label for="fname">Full Name:</label>
                    <input type="text" name="fname" placeholder="Full Name" id="fname">
                </div>
                <div class="form-row">
                    <label for="email">Email:</label> 
                    <input type="email" name="email" placeholder="your@email.com" id="email"> <!--putting type="email" allows for the @ to appear on the keyboard on mobile phones.-->
                </div>
                <div class="form-row">
                    <label for="age">Age:</label>
                    <input type="number" name="age" id="age" min="0" max="120" value="18"> <!--min and max attributes set the limits for the number input. value sets the default value.-->
                </div>
                <div class="form-row">
                    <label for="pword">Password:</label>
                    <input type="password" name="password" id="pword">
                </div>
                <div class="form-row">
                    <label for="state">State:</label>
                    <select name="state" id="state">
                        <option value="blank">----</option>
                        <option value="CA">California</option>
                        <option value="HI" selected>Hawaii</option>
                        <option value="UT">Utah</option>
                    </select>
                </div>
                <div class="check-row">
                    <div class="spacer"></div>
                    <label><input type="checkbox">I agree to the terms</label>
                </div>
                <div class="check-row">
                    <div class="spacer">Gender:</div>
                    <label><input type="radio" name="gender" value="Male">Male</label>
                    <label><input type="radio" name="gender" value="Female">Female</label> <!--if we dont put the names the same, both can be chosen at the same time.-->
                </div>
                <div class="form-row">
                    <label for="comment">Comments:</label>
                    <textarea name="comment id=comment">Hello</textarea> <!--for this one, the spaces made will affect the appearance on the webpage-->
                </div>
                <div class="form-row">
                    <div class="spacer"></div>
                        <input type="submit" value="Sign Up">
                </div>
            </fieldset>
        </form>
        <h2>Notes</h2>
        <p>
            Note: What is JavaScript? JavaScript is a high-level, dynamic programming language created by Brendan Eich at Netscape in 1995. It was originally called Mocha, then LiveScript, and was renamed "JavaScript" largely for marketing reasons to align with Java's popularity. JavaScript runs in the browser (manipulates the DOM) and can also run on the server with Node.js. Adjacent vertical margins on block elements can collapse (they may appear to overlap). jQuery was a popular frontâ€‘end library; today React (maintained by Meta) is widely used. You can include JavaScript by embedding it with a &lt;script&gt; tag in your HTML or by linking an external .js file with &lt;script src="...">&lt;/script&gt;. 
        </p>
    </main>
    <footer>
        <p>&copy; 2025 Billery Allerian Ian Martin Idang @ frogyattmenot All Rights Reserved</p>
    </footer>
    <srcipt src="form.js"></srcipt>
    <script>
        document.getElementById('myform').addEventListener('submit', function(event) { //adding an event listener to the form for the submit event  
            event.preventDefault(); // Prevent the default form submission
            alert('Form submitted!'); // Alert to indicate form submission
            const fullname = document.getElementById('fname'); //getting the values from the form inputs
            const email = document.getElementById('email'); //assuming there's an email input field with id 'email'
            const password = document.getElementById('pword'); //assuming there's a password input field with id 'pword'
            const age = document.getElementById('age'); //assuming there's an age input field with id 'age'

            if (!fullname || !email) { //validators to check if name and email are provided
                alert("You need a name and email.");
                return;
            }

            if (!age || age <18) { //validator to check if age is 18 or older
                alert("You need to be 18");
                return;
            } 

            const formData = { 
                fullname: fullname, //the right needs to be the same as in the const above
                email: email,
                password: password,
                age: age
            }; //creating an object to hold the form data

            console.log(formData);
            // Here you can add code to send formData to the server using fetch or XMLHttpRequest

            const xhr = new XMLHttpRequest(); //creating a new XMLHttpRequest object
            xhr.open("GET", "submit.json", true);
            xhr.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
            xhr.onreadystatechange = function() {
                if (xhr.readyState === 4 && xhr.status === 200) {
                    alert("Form submitted successfully!");
                    const response = JSON.parse(xhr.responseText);
                    console.log(response);
                    //document.getElementById('myForm').reset();
                    document.getElementById('myform').innerHTML = '';
                    document.getElementById('message').innerText = response.message;
                } else if (xhr.readyState === 4) {
                    alert("Error submitting form.");
                }
            };
            xhr.send(JSON.stringify(formData)); //sending the form data as a JSON string
        });
    </script>
</body>
</html>